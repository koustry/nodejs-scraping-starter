version: '3'

services: 

    server:
        build: .
        ports: 
            - 4000:4000
        volumes:
            - "./data:/app/data"
        depends_on: 
            - database

    database:
        image: mongo:4.2.3
        environment: 
            - MONGO_INITDB_DATABASE=scraping
            - MONGO_INITDB_ROOT_USERNAME=root
            - MONGO_INITDB_ROOT_PASSWORD=root
        ports: 
            - 27017:27017
        volumes: 
            - db-data:/data/db

volumes: 
    db-data:
